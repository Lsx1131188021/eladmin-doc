---
comment: false 
---

# V2.5 版本

V2.4版本现基本稳定，V2.5版本都是基于现版本进行Bug修复与优化调整，新版本更新内容如下

## 后端改动
### 新增功能
1. 加入审计功能，继承 BaseEntity 后自动写入创建时间、修改时间、创建人、更新人，详见 [AuditorConfig](https://github.com/elunez/eladmin/blob/master/eladmin-common/src/main/java/me/zhengjie/config/AuditorConfig.java)
2. Token 自动续期功能，用户在快过期的时间内操作活跃，可将 Token 过期时间延长，详见 [TokenFilter](https://github.com/elunez/eladmin/blob/master/eladmin-system/src/main/java/me/zhengjie/modules/security/security/TokenFilter.java)
3. 数据权限注解的实现，摈弃在 Controller 的操作方式，采用 @DataPermission 注解实现，详见 [后端手册](https://el-admin.vip/guide/hdsc.html#%E6%B3%A8%E8%A7%A3%E6%96%B9%E5%BC%8F)
4. 新的服务监控实现，后端采用 [oshi](https://github.com/oshi/oshi)，前端采用 [echarts](https://v-charts.js.org/#/) 做可视化[借鉴了[宝塔](https://www.bt.cn/)监控]，详见 [预览地址](https://el-admin.xin/monitor/server)
5. 定时任务创建时支持添加异常通知人，当定时任务执行失败发送邮件通知 [支持多邮箱], 详见 [后端手册](http://localhost:8080/guide/hdsc.html#%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1)
6. 定时任务支持添加子任务，当主任务执行完后自动执行子任务 [支持多子任务，顺序执行], 详见 [后端手册](http://localhost:8080/guide/hdsc.html#%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1)
### 细节优化
#### 结构优化
1. 所有表按功能加入前缀：sys、tool、mnt 方便后续管理维护
2. 所有表字段的主键改为: 表名_id，方便与关联表的 id 统一
3. 所有表加入 create_by、update_by、create_time、update_time 字段,便于审计
4. 去除无用字段，加入必要索引加快查询速度，去除外键改为程序控制
5. sys_user 表中加入 is_admin 字段用户区分是否为管理员
6. 删除 avatar 头像表，将头像的的头像名称与路径存入 sys_user 表
#### 代码优化
1. 去除首页 ip，pv 统计，此功能对于后台管理显得多余
2. 邮箱验证功能的验证码改为存储在 Redis 中，删除了原来从数据库中取的逻辑代码
3. 修改不规范的字段名/包名，将 mapper 包改为 mapstruct，避免与 mybatis 的 mapper 冲突
4. 重新设计缓存功能，去除不必要的缓存，去除监控模块，将新服务监控管理移入 system 模块
5. 用户管理、角色管理、菜单管理、部门管理中树形均采用懒加载方式实现，避免大量的数据导致页面卡顿
6. 加入RsaUtils工具类解决Hutool工具Rsa解密过慢的问题，IP 归属地查询改为用太平洋IP地址查询接口
7. TokenFilter Token 验证逻辑优化，对于已放行的接口不去验证 Token 合法性
8. 文件上传优化，加入 FileProperties 配置，根据系统选择上传目录
### 错误修复
1. 运维管理解决不能向不同服务器部署应用的缺陷 [#347](https://github.com/elunez/eladmin/issues/347)
2. 运维管理解决部署到linux服务器路径拼接不正确问题 [#347](https://github.com/elunez/eladmin/issues/347)
3. 运维管理解决每次连接不同服务器都默认访问第一台服务器的问题 [#347](https://github.com/elunez/eladmin/issues/347)
4. 当前用户如果没有任何权限时，在输入用户名后，刷新验证码会抛IllegalArgumentException [#333](https://github.com/elunez/eladmin/pull/333)
5. 修复不存在账号登录时userService.findByName 抛出异常，loadUserByUsername未捕获处理的Bug [详见](https://github.com/elunez/eladmin/commit/c4ddacc77dd335d387cbe5e5205fafa9ba2472c4)

## 前端改动
### 新增功能
1
### 细节优化
1
### 错误修复
1


